{"ast":null,"code":"import _objectSpread from \"/Users/mac10/Desktop/backendless_react_example-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/mac10/Desktop/backendless_react_example-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mac10/Desktop/backendless_react_example-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/mac10/Desktop/backendless_react_example-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/mac10/Desktop/backendless_react_example-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/mac10/Desktop/backendless_react_example-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/mac10/Desktop/backendless_react_example-master/src/persons/editor.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button';\nimport Alert from 'react-bootstrap/Alert';\nimport { createPerson, updatePerson } from '../store';\n\nvar PersonEditor =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PersonEditor, _Component);\n\n  function PersonEditor(props) {\n    var _this;\n\n    _classCallCheck(this, PersonEditor);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PersonEditor).call(this, props));\n\n    _this.close = function () {\n      _this.setState({\n        person: {},\n        saving: false,\n        serverError: null\n      });\n\n      _this.props.onHide();\n    };\n\n    _this.save = function () {\n      var person = _this.preparePerson();\n\n      var action = _this.props.person ? _this.props.updatePerson : _this.props.createPerson;\n      action(person).then(function () {\n        return _this.close();\n      }).catch(function (e) {\n        return _this.setState({\n          serverError: e.message\n        });\n      });\n    };\n\n    _this.onNameChange = function (e) {\n      return _this.setState({\n        person: _objectSpread({}, _this.state.person, {\n          name: e.target.value\n        })\n      });\n    };\n\n    _this.onAddressChange = function (e) {\n      return _this.setState({\n        person: _objectSpread({}, _this.state.person, {\n          address: e.target.value\n        })\n      });\n    };\n\n    _this.state = {\n      person: props.person || {},\n      saving: false,\n      serverError: null\n    };\n    return _this;\n  }\n\n  _createClass(PersonEditor, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var prevPerson = this.props.person || {};\n      var nextPerson = nextProps.person || {};\n\n      if (prevPerson.objectId !== nextPerson.objectId) {\n        this.setState({\n          person: nextPerson\n        });\n      }\n    }\n  }, {\n    key: \"preparePerson\",\n    value: function preparePerson() {\n      var person = this.state.person;\n      return _objectSpread({}, person, {\n        name: (person.name || '').trim() || null,\n        address: (person.address || '').trim() || null\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var show = this.props.show;\n      var _this$state = this.state,\n          person = _this$state.person,\n          serverError = _this$state.serverError,\n          saving = _this$state.saving;\n      var isNew = !this.props.person;\n      return React.createElement(Modal, {\n        show: show,\n        onHide: this.close,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(Modal.Header, {\n        closeButton: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(Modal.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, isNew ? 'Add' : 'Edit', \" Person\")), React.createElement(Modal.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"Name:\"), React.createElement(\"input\", {\n        className: \"form-control\",\n        placeholder: \"Input name\",\n        value: person.name || '',\n        onChange: this.onNameChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"Address:\"), React.createElement(\"input\", {\n        className: \"form-control\",\n        placeholder: \"Input address\",\n        value: person.address || '',\n        onChange: this.onAddressChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      })), serverError && React.createElement(Alert, {\n        variant: \"danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, serverError))), React.createElement(Modal.Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"secondary\",\n        onClick: this.close,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"Close\"), React.createElement(Button, {\n        variant: \"primary\",\n        onClick: this.save,\n        disabled: saving,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, saving ? 'Saving...' : 'Save')));\n    }\n  }]);\n\n  return PersonEditor;\n}(Component);\n\nexport default connect(null, {\n  createPerson: createPerson,\n  updatePerson: updatePerson\n})(PersonEditor);","map":{"version":3,"sources":["/Users/mac10/Desktop/backendless_react_example-master/src/persons/editor.js"],"names":["React","Component","connect","Modal","Button","Alert","createPerson","updatePerson","PersonEditor","props","close","setState","person","saving","serverError","onHide","save","preparePerson","action","then","catch","e","message","onNameChange","state","name","target","value","onAddressChange","address","nextProps","prevPerson","nextPerson","objectId","trim","show","isNew"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux'\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button';\nimport Alert from 'react-bootstrap/Alert';\n\nimport { createPerson, updatePerson } from '../store';\n\nclass PersonEditor extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      person     : props.person || {},\n      saving     : false,\n      serverError: null,\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const prevPerson = this.props.person || {};\n    const nextPerson = nextProps.person || {};\n\n    if (prevPerson.objectId !== nextPerson.objectId) {\n      this.setState({ person: nextPerson })\n    }\n  }\n\n  close = () => {\n    this.setState({\n      person     : {},\n      saving     : false,\n      serverError: null\n    });\n\n    this.props.onHide()\n  };\n\n  preparePerson() {\n    const { person } = this.state;\n\n    return {\n      ...person,\n      name   : (person.name || '').trim() || null,\n      address: (person.address || '').trim() || null,\n    }\n  }\n\n  save = () => {\n    const person = this.preparePerson();\n\n    const action = this.props.person\n      ? this.props.updatePerson\n      : this.props.createPerson;\n\n    action(person)\n      .then(() => this.close())\n      .catch(e => this.setState({ serverError: e.message }));\n  };\n\n  onNameChange = e => this.setState({ person: { ...this.state.person, name: e.target.value } });\n  onAddressChange = e => this.setState({ person: { ...this.state.person, address: e.target.value } });\n\n  render() {\n    const { show } = this.props;\n    const { person, serverError, saving } = this.state;\n\n    const isNew = !this.props.person;\n\n    return (\n      <Modal show={show} onHide={this.close}>\n        <Modal.Header closeButton>\n          <Modal.Title>\n            {isNew ? 'Add' : 'Edit'} Person\n          </Modal.Title>\n        </Modal.Header>\n\n        <Modal.Body>\n          <form>\n            <div className=\"form-group\">\n              <label>Name:</label>\n              <input\n                className=\"form-control\"\n                placeholder=\"Input name\"\n                value={person.name || ''}\n                onChange={this.onNameChange}\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <label>Address:</label>\n              <input\n                className=\"form-control\"\n                placeholder=\"Input address\"\n                value={person.address || ''}\n                onChange={this.onAddressChange}\n              />\n            </div>\n\n            {serverError && (\n              <Alert variant=\"danger\">\n                {serverError}\n              </Alert>\n            )}\n          </form>\n        </Modal.Body>\n\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={this.close}>\n            Close\n          </Button>\n          <Button variant=\"primary\" onClick={this.save} disabled={saving}>\n            {saving ? 'Saving...' : 'Save'}\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    );\n  }\n}\n\nexport default connect(null, { createPerson, updatePerson })(PersonEditor);\n"]},"metadata":{},"sourceType":"module"}