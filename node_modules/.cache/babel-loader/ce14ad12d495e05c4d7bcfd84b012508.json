{"ast":null,"code":"import _classCallCheck from \"/Users/mac10/Desktop/backendless_react_example-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mac10/Desktop/backendless_react_example-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/mac10/Desktop/backendless_react_example-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/mac10/Desktop/backendless_react_example-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/mac10/Desktop/backendless_react_example-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/mac10/Desktop/backendless_react_example-master/src/persons/index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Button from 'react-bootstrap/Button';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport Backendless from 'backendless';\nimport { loadPersons, getPersons, onPersonCreate, onPersonUpdate, onPersonRemove } from '../store';\nimport Editor from './editor';\nimport DeleteConfirmation from './delete-confirmation';\n\nvar mapStateToProps = function mapStateToProps(state) {\n  var _getPersons = getPersons(state),\n      loading = _getPersons.loading,\n      loaded = _getPersons.loaded,\n      error = _getPersons.error,\n      persons = _getPersons.list;\n\n  return {\n    loading: loading,\n    loaded: loaded,\n    error: error,\n    persons: persons\n  };\n};\n\nvar Persons =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Persons, _Component);\n\n  function Persons() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Persons);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Persons)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      showEditor: false,\n      editorProps: null,\n      showDeleteConfirmation: false,\n      deleteConfirmationProps: null\n    };\n\n    _this.showEditor = function (person) {\n      return _this.setState({\n        showEditor: true,\n        editorProps: {\n          person: person\n        }\n      });\n    };\n\n    _this.hideEditor = function () {\n      return _this.setState({\n        showEditor: false,\n        editorProps: null\n      });\n    };\n\n    _this.showDeleteConfirmation = function (person) {\n      return _this.setState({\n        showDeleteConfirmation: true,\n        deleteConfirmationProps: {\n          person: person\n        }\n      });\n    };\n\n    _this.hideDeleteConfirmation = function () {\n      return _this.setState({\n        showDeleteConfirmation: false,\n        deleteConfirmationProps: null\n      });\n    };\n\n    _this.onAddClick = function () {\n      return _this.showEditor(null);\n    };\n\n    _this.onEditClick = function (person) {\n      return _this.showEditor(person);\n    };\n\n    _this.onDeleteClick = function (person) {\n      return _this.showDeleteConfirmation(person);\n    };\n\n    _this.renderPerson = function (person) {\n      return React.createElement(\"li\", {\n        key: person.objectId,\n        className: \"list-group-item d-flex justify-content-between align-items-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, person.name), React.createElement(\"div\", {\n        className: \"text-muted small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, person.address)), React.createElement(ButtonGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(Button, {\n        size: \"sm\",\n        variant: \"outline-primary\",\n        onClick: function onClick() {\n          return _this.onEditClick(person);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"Edit\"), React.createElement(Button, {\n        size: \"sm\",\n        variant: \"outline-danger\",\n        onClick: function onClick() {\n          return _this.onDeleteClick(person);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"Delete\")));\n    };\n\n    return _this;\n  }\n\n  _createClass(Persons, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.props.loadPersons();\n      this.personRT = Backendless.Data.of('Person').rt();\n      this.personRT.addCreateListener(this.props.onPersonCreate);\n      this.personRT.addUpdateListener(this.props.onPersonUpdate);\n      this.personRT.addDeleteListener(this.props.onPersonRemove);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.personRT.removeCreateListener(this.props.onPersonCreate);\n      this.personRT.removeUpdateListener(this.props.onPersonUpdate);\n      this.personRT.removeDeleteListener(this.props.onPersonRemove);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          loading = _this$props.loading,\n          error = _this$props.error,\n          persons = _this$props.persons;\n      var _this$state = this.state,\n          showEditor = _this$state.showEditor,\n          editorProps = _this$state.editorProps,\n          showDeleteConfirmation = _this$state.showDeleteConfirmation,\n          deleteConfirmationProps = _this$state.deleteConfirmationProps;\n\n      if (loading) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }, \"Loading...\");\n      }\n\n      if (error) {\n        return React.createElement(\"div\", {\n          className: \"alert alert-danger\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, \"Error: \", error);\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"mb-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.onAddClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"New Invoice\"), React.createElement(Editor, Object.assign({}, editorProps, {\n        show: showEditor,\n        onHide: this.hideEditor,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }))), React.createElement(\"ul\", {\n        className: \"list-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, persons.map(this.renderPerson)), React.createElement(DeleteConfirmation, Object.assign({}, deleteConfirmationProps, {\n        show: showDeleteConfirmation,\n        onHide: this.hideDeleteConfirmation,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Persons;\n}(Component);\n\nexport default connect(mapStateToProps, {\n  loadPersons: loadPersons,\n  onPersonCreate: onPersonCreate,\n  onPersonUpdate: onPersonUpdate,\n  onPersonRemove: onPersonRemove\n})(Persons);","map":{"version":3,"sources":["/Users/mac10/Desktop/backendless_react_example-master/src/persons/index.js"],"names":["React","Component","connect","Button","ButtonGroup","Backendless","loadPersons","getPersons","onPersonCreate","onPersonUpdate","onPersonRemove","Editor","DeleteConfirmation","mapStateToProps","state","loading","loaded","error","persons","list","Persons","showEditor","editorProps","showDeleteConfirmation","deleteConfirmationProps","person","setState","hideEditor","hideDeleteConfirmation","onAddClick","onEditClick","onDeleteClick","renderPerson","objectId","name","address","props","personRT","Data","of","rt","addCreateListener","addUpdateListener","addDeleteListener","removeCreateListener","removeUpdateListener","removeDeleteListener","map"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux'\nimport Button from 'react-bootstrap/Button';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport Backendless from 'backendless';\n\nimport { loadPersons, getPersons, onPersonCreate, onPersonUpdate, onPersonRemove } from '../store';\n\nimport Editor from './editor';\nimport DeleteConfirmation from './delete-confirmation';\n\nconst mapStateToProps = state => {\n  const { loading, loaded, error, list: persons } = getPersons(state);\n\n  return {\n    loading,\n    loaded,\n    error,\n    persons\n  }\n};\n\nclass Persons extends Component {\n\n  state = {\n    showEditor : false,\n    editorProps: null,\n\n    showDeleteConfirmation : false,\n    deleteConfirmationProps: null,\n  };\n\n  showEditor = person => this.setState({ showEditor: true, editorProps: { person } });\n  hideEditor = () => this.setState({ showEditor: false, editorProps: null });\n\n  showDeleteConfirmation = person => this.setState({ showDeleteConfirmation : true, deleteConfirmationProps: { person } });\n  hideDeleteConfirmation = () => this.setState({ showDeleteConfirmation: false, deleteConfirmationProps: null });\n\n  componentWillMount(){\n    this.props.loadPersons();\n\n    this.personRT = Backendless.Data.of('Person').rt();\n\n    this.personRT.addCreateListener(this.props.onPersonCreate);\n    this.personRT.addUpdateListener(this.props.onPersonUpdate);\n    this.personRT.addDeleteListener(this.props.onPersonRemove);\n  }\n\n  componentWillUnmount(){\n    this.personRT.removeCreateListener(this.props.onPersonCreate);\n    this.personRT.removeUpdateListener(this.props.onPersonUpdate);\n    this.personRT.removeDeleteListener(this.props.onPersonRemove);\n  }\n\n  onAddClick = () => this.showEditor(null);\n  onEditClick = person => this.showEditor(person);\n  onDeleteClick = person => this.showDeleteConfirmation(person);\n\n  renderPerson = person => {\n    return (\n      <li key={person.objectId} className=\"list-group-item d-flex justify-content-between align-items-center\">\n        <div>\n          <div>{person.name}</div>\n          <div className=\"text-muted small\">{person.address}</div>\n        </div>\n\n        <ButtonGroup>\n          <Button size=\"sm\" variant=\"outline-primary\" onClick={() => this.onEditClick(person)}>Edit</Button>\n          <Button size=\"sm\" variant=\"outline-danger\" onClick={() => this.onDeleteClick(person)}>Delete</Button>\n        </ButtonGroup>\n      </li>\n    );\n  };\n\n  render() {\n    const { loading, error, persons } = this.props;\n    const { showEditor, editorProps, showDeleteConfirmation, deleteConfirmationProps } = this.state;\n\n    if (loading) {\n      return (\n        <div>\n          Loading...\n        </div>\n      )\n    }\n\n    if (error) {\n      return (\n        <div className=\"alert alert-danger\">\n          Error: {error}\n        </div>\n      )\n    }\n\n    return (\n      <div>\n        <div className=\"mb-2\">\n          <Button onClick={this.onAddClick}>New Invoice</Button>\n          <Editor {...editorProps} show={showEditor} onHide={this.hideEditor}/>\n        </div>\n\n        <ul className=\"list-group\">\n          {persons.map(this.renderPerson)}\n        </ul>\n\n        <DeleteConfirmation\n          {...deleteConfirmationProps}\n          show={showDeleteConfirmation}\n          onHide={this.hideDeleteConfirmation}\n        />\n      </div>\n    )\n  }\n}\n\nexport default connect(mapStateToProps, { loadPersons, onPersonCreate, onPersonUpdate, onPersonRemove })(Persons);\n"]},"metadata":{},"sourceType":"module"}