{"ast":null,"code":"import _defineProperty from \"/Users/mac10/Desktop/backendless_react_example-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/mac10/Desktop/backendless_react_example-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\n\nvar _reducersMap;\n\nimport t from '../action-types';\nimport { reduceReducers, loadReducer, reducersMap } from './helpers';\nvar initialState = {\n  list: []\n};\nvar personsReducer = reduceReducers(initialState, loadReducer(t.LOAD_PERSONS, function (state, action) {\n  return _objectSpread({}, state, {\n    list: action.result\n  });\n}), reducersMap((_reducersMap = {}, _defineProperty(_reducersMap, t.CREATE_PERSON_SUCCESS, function (state, action) {\n  return addPerson(state, action.result);\n}), _defineProperty(_reducersMap, t.UPDATE_PERSON_SUCCESS, function (state, action) {\n  return updatePerson(state, action.result);\n}), _defineProperty(_reducersMap, t.REMOVE_PERSON_SUCCESS, function (state, action) {\n  return deletePerson(state, action.personId);\n}), _defineProperty(_reducersMap, t.ON_PERSON_CREATE, function (state, action) {\n  return addPerson(state, action.person);\n}), _defineProperty(_reducersMap, t.ON_PERSON_UPDATE, function (state, action) {\n  return updatePerson(state, action.person);\n}), _defineProperty(_reducersMap, t.ON_PERSON_REMOVE, function (state, action) {\n  return deletePerson(state, action.person.objectId);\n}), _reducersMap)));\n\nfunction addPerson(state, person) {\n  if (state.list.find(function (p) {\n    return p.objectId === person.objectId;\n  })) {\n    return state;\n  }\n\n  return _objectSpread({}, state, {\n    list: state.list.concat(person)\n  });\n}\n\nfunction updatePerson(state, person) {\n  return _objectSpread({}, state, {\n    list: state.list.map(function (p) {\n      return p.objectId === person.objectId ? person : p;\n    })\n  });\n}\n\nfunction deletePerson(state, personId) {\n  return _objectSpread({}, state, {\n    list: state.list.filter(function (person) {\n      return person.objectId !== personId;\n    })\n  });\n}\n\nexport default personsReducer;","map":{"version":3,"sources":["/Users/mac10/Desktop/backendless_react_example-master/src/store/reducers/persons.js"],"names":["t","reduceReducers","loadReducer","reducersMap","initialState","list","personsReducer","LOAD_PERSONS","state","action","result","CREATE_PERSON_SUCCESS","addPerson","UPDATE_PERSON_SUCCESS","updatePerson","REMOVE_PERSON_SUCCESS","deletePerson","personId","ON_PERSON_CREATE","person","ON_PERSON_UPDATE","ON_PERSON_REMOVE","objectId","find","p","concat","map","filter"],"mappings":";;;;;AAAA,OAAOA,CAAP,MAAc,iBAAd;AACA,SAASC,cAAT,EAAyBC,WAAzB,EAAsCC,WAAtC,QAAyD,WAAzD;AAEA,IAAMC,YAAY,GAAG;AACnBC,EAAAA,IAAI,EAAE;AADa,CAArB;AAIA,IAAMC,cAAc,GAAGL,cAAc,CAACG,YAAD,EACnCF,WAAW,CAACF,CAAC,CAACO,YAAH,EAAiB,UAACC,KAAD,EAAQC,MAAR;AAAA,2BACvBD,KADuB;AAE1BH,IAAAA,IAAI,EAAEI,MAAM,CAACC;AAFa;AAAA,CAAjB,CADwB,EAMnCP,WAAW,mDACRH,CAAC,CAACW,qBADM,EACkB,UAACH,KAAD,EAAQC,MAAR;AAAA,SAAmBG,SAAS,CAACJ,KAAD,EAAQC,MAAM,CAACC,MAAf,CAA5B;AAAA,CADlB,iCAERV,CAAC,CAACa,qBAFM,EAEkB,UAACL,KAAD,EAAQC,MAAR;AAAA,SAAmBK,YAAY,CAACN,KAAD,EAAQC,MAAM,CAACC,MAAf,CAA/B;AAAA,CAFlB,iCAGRV,CAAC,CAACe,qBAHM,EAGkB,UAACP,KAAD,EAAQC,MAAR;AAAA,SAAmBO,YAAY,CAACR,KAAD,EAAQC,MAAM,CAACQ,QAAf,CAA/B;AAAA,CAHlB,iCAKRjB,CAAC,CAACkB,gBALM,EAKa,UAACV,KAAD,EAAQC,MAAR;AAAA,SAAmBG,SAAS,CAACJ,KAAD,EAAQC,MAAM,CAACU,MAAf,CAA5B;AAAA,CALb,iCAMRnB,CAAC,CAACoB,gBANM,EAMa,UAACZ,KAAD,EAAQC,MAAR;AAAA,SAAmBK,YAAY,CAACN,KAAD,EAAQC,MAAM,CAACU,MAAf,CAA/B;AAAA,CANb,iCAORnB,CAAC,CAACqB,gBAPM,EAOa,UAACb,KAAD,EAAQC,MAAR;AAAA,SAAmBO,YAAY,CAACR,KAAD,EAAQC,MAAM,CAACU,MAAP,CAAcG,QAAtB,CAA/B;AAAA,CAPb,iBANwB,CAArC;;AAiBA,SAASV,SAAT,CAAmBJ,KAAnB,EAA0BW,MAA1B,EAAkC;AAChC,MAAIX,KAAK,CAACH,IAAN,CAAWkB,IAAX,CAAgB,UAAAC,CAAC;AAAA,WAAIA,CAAC,CAACF,QAAF,KAAeH,MAAM,CAACG,QAA1B;AAAA,GAAjB,CAAJ,EAA0D;AACxD,WAAOd,KAAP;AACD;;AAED,2BACKA,KADL;AAEEH,IAAAA,IAAI,EAAEG,KAAK,CAACH,IAAN,CAAWoB,MAAX,CAAkBN,MAAlB;AAFR;AAID;;AAED,SAASL,YAAT,CAAsBN,KAAtB,EAA6BW,MAA7B,EAAqC;AACnC,2BACKX,KADL;AAEEH,IAAAA,IAAI,EAAEG,KAAK,CAACH,IAAN,CAAWqB,GAAX,CAAe,UAAAF,CAAC;AAAA,aAAIA,CAAC,CAACF,QAAF,KAAeH,MAAM,CAACG,QAAtB,GAAiCH,MAAjC,GAA0CK,CAA9C;AAAA,KAAhB;AAFR;AAID;;AAED,SAASR,YAAT,CAAsBR,KAAtB,EAA6BS,QAA7B,EAAuC;AACrC,2BACKT,KADL;AAEEH,IAAAA,IAAI,EAAEG,KAAK,CAACH,IAAN,CAAWsB,MAAX,CAAkB,UAAAR,MAAM;AAAA,aAAIA,MAAM,CAACG,QAAP,KAAoBL,QAAxB;AAAA,KAAxB;AAFR;AAID;;AAED,eAAeX,cAAf","sourcesContent":["import t from '../action-types'\nimport { reduceReducers, loadReducer, reducersMap } from './helpers'\n\nconst initialState = {\n  list: []\n};\n\nconst personsReducer = reduceReducers(initialState,\n  loadReducer(t.LOAD_PERSONS, (state, action) => ({\n    ...state,\n    list: action.result\n  })),\n\n  reducersMap({\n    [t.CREATE_PERSON_SUCCESS]: (state, action) => addPerson(state, action.result),\n    [t.UPDATE_PERSON_SUCCESS]: (state, action) => updatePerson(state, action.result),\n    [t.REMOVE_PERSON_SUCCESS]: (state, action) => deletePerson(state, action.personId),\n\n    [t.ON_PERSON_CREATE]: (state, action) => addPerson(state, action.person),\n    [t.ON_PERSON_UPDATE]: (state, action) => updatePerson(state, action.person),\n    [t.ON_PERSON_REMOVE]: (state, action) => deletePerson(state, action.person.objectId)\n  })\n);\n\nfunction addPerson(state, person) {\n  if (state.list.find(p => p.objectId === person.objectId)) {\n    return state\n  }\n\n  return {\n    ...state,\n    list: state.list.concat(person)\n  }\n}\n\nfunction updatePerson(state, person) {\n  return {\n    ...state,\n    list: state.list.map(p => p.objectId === person.objectId ? person : p)\n  }\n}\n\nfunction deletePerson(state, personId) {\n  return {\n    ...state,\n    list: state.list.filter(person => person.objectId !== personId)\n  }\n}\n\nexport default personsReducer"]},"metadata":{},"sourceType":"module"}